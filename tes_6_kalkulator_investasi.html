<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investment Simulator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 20px;
        }
        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: auto;
        }
        h1 {
            text-align: center;
        }
        .form-group {
            margin-bottom: 15px;
            position: relative;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"], input[type="number"], select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }
        .button-group {
            display: flex;
            gap: 10px;
        }
        .button-group button, button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            color: #fff;
            font-size: 16px;
            margin-top: 5px;
            cursor: pointer;
        }
        .result {
            margin-top: 20px;
            padding: 20px;
            background-color: #e9ecef;
            border-radius: 5px;
        }
        .result p {
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Investment Simulator</h1>
        <div class="form-group">
            <label for="targetAmount">Jumlah uang yang ingin kamu capai:</label>
            <input type="text" id="targetAmount" oninput="formatNumber(this); autoCalculate()">
            <div class="button-group">
                <button onclick="autofillTarget(10000000)">10 Juta</button>
                <button onclick="autofillTarget(50000000)">50 Juta</button>
                <button onclick="autofillTarget(100000000)">100 Juta</button>
                <button onclick="autofillTarget(1000000000)">1 Milyar</button>
            </div>
        </div>
        <div class="form-group">
            <label for="initialInvestment">Investasi awal (Rp):</label>
            <input type="text" id="initialInvestment" oninput="formatNumber(this); autoCalculate()">
        </div>
        <div class="form-group">
            <label for="years">Waktu mengumpulkan uang ini (tahun):</label>
            <input type="number" id="years" placeholder="20" oninput="autoCalculate()">
        </div>
        <div class="form-group">
            <label for="frequency">Frekuensi menambah dana:</label>
            <select id="frequency" onchange="updateTimingLabel(); autoCalculate()">
                <option value="monthly">Setiap Bulan</option>
                <option value="yearly">Setiap Tahun</option>
            </select>
        </div>
        <div class="form-group">
            <label for="timing" id="timingLabel">Menambahkan dana pada:</label>
            <select id="timing" onchange="autoCalculate()">
                <option value="start">Awal Bulan/Tahun</option>
                <option value="end">Akhir Bulan/Tahun</option>
            </select>
        </div>
        <div class="form-group">
            <label for="investmentAmount">Target investasimu tiap bulan/tahun (Rp):</label>
            <input type="text" id="investmentAmount" oninput="formatNumber(this); autoCalculate()">
        </div>
        <div class="form-group">
            <label for="interestRate">Return investasi (% / tahun):</label>
            <input type="number" step="0.01" id="interestRate" placeholder="7" oninput="autoCalculate()">
        </div>
        <div class="result" id="result">
            <p>Hasil investasimu akan ditampilkan di sini.</p>
        </div>
    </div>
    <script>
        function autofillTarget(amount) {
            document.getElementById('targetAmount').value = formatIDR(amount);
            autoCalculate();
        }

        function formatNumber(input) {
            if (input.value === '') {
                return;
            }
            const value = input.value.replace(/\D/g, '');
            input.value = formatIDR(value);
        }

        function formatIDR(value) {
            return 'Rp ' + parseInt(value).toLocaleString('id-ID');
        }

        function updateTimingLabel() {
            const frequency = document.getElementById('frequency').value;
            const timingLabel = document.getElementById('timingLabel');
            timingLabel.innerText = frequency === 'monthly' ? 'Menambahkan dana pada:' : 'Menambahkan dana pada:';
            document.querySelector('#timing option[value="start"]').innerText = frequency === 'monthly' ? 'Awal Bulan' : 'Awal Tahun';
            document.querySelector('#timing option[value="end"]').innerText = frequency === 'monthly' ? 'Akhir Bulan' : 'Akhir Tahun';
        }

        function autoCalculate() {
            const targetAmountElement = document.getElementById('targetAmount');
            const initialInvestmentElement = document.getElementById('initialInvestment');
            const investmentAmountElement = document.getElementById('investmentAmount');
            const interestRateElement = document.getElementById('interestRate');

            const targetAmount = parseFloat(targetAmountElement.value.replace(/\D/g, ''));
            const initialInvestment = parseFloat(initialInvestmentElement.value.replace(/\D/g, ''));
            const years = parseInt(document.getElementById('years').value);
            const frequency = document.getElementById('frequency').value;
            const timing = document.getElementById('timing').value;
            const investmentAmount = parseFloat(investmentAmountElement.value.replace(/\D/g, ''));
            const interestRate = parseFloat(interestRateElement.value) / 100;

            if (isNaN(targetAmount) || isNaN(initialInvestment) || isNaN(years) || isNaN(investmentAmount) || isNaN(interestRate)) {
                document.getElementById('result').innerHTML = '<p>Mohon lengkapi semua bidang untuk melihat hasil.</p>';
                return;
            }

            const periods = frequency === 'monthly' ? years * 12 : years;
            const periodRate = frequency === 'monthly' ? interestRate / 12 : interestRate;

            let futureValue = initialInvestment;
            for (let i = 0; i < periods; i++) {
                futureValue = timing === 'start'
                    ? (futureValue + investmentAmount) * (1 + periodRate)
                    : futureValue * (1 + periodRate) + investmentAmount;
            }

            const totalInvested = initialInvestment + investmentAmount * periods;
            const earnedFromInvestment = futureValue - totalInvested;

            const resultElement = document.getElementById('result');
            resultElement.innerHTML = `
                <p>Total uang yang kamu butuhkan: Rp${targetAmount.toLocaleString('id-ID')}</p>
                <p>Jumlah investasi awal: Rp${initialInvestment.toLocaleString('id-ID')}</p>
                <p>Jumlah investasi / bulan/tahun: Rp${investmentAmount.toLocaleString('id-ID')}</p>
                <p>Return investasi: ${(interestRate * 100).toFixed(2)}% / tahun</p>
                <p>Lama investasi: ${years} tahun</p>
                <p>Hasil investasi: Rp${futureValue.toLocaleString('id-ID')}</p>
                <p>Total uang yang diinvestasikan: Rp${totalInvested.toLocaleString('id-ID')}</p>
                <p>Keuntungan dari investasi: Rp${earnedFromInvestment.toLocaleString('id-ID')}</p>
                ${futureValue >= targetAmount ? '' : `<p>Kurang: Rp${(targetAmount - futureValue).toLocaleString('id-ID')}</p>`}
                <p>${futureValue >= targetAmount ? 'Strategi kamu cocok untuk mencapai mimpimu!' : 'Strategi kamu belum cocok untuk mencapai mimpimu.'}</p>
            `;
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateTimingLabel();
        });
    </script>
</body>
</html>
